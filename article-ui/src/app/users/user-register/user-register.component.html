<div *ngIf="alertService.getSuccessMsg()" class="row">
	<div class="alert alert-success">
		{{ alertService.getSuccessMsg() }}
	</div>
</div>

<div *ngIf="alertService.getErrorMsg()" class="row">
	<div class="alert alert-danger">
		{{ alertService.getErrorMsg() }}
	</div>
</div>

<div class="row">
	<h2> User Registration </h2>
</div>

<div class="row">
	<form [formGroup]="userRegistrationForm" (ngSubmit)="onSubmit()">

		<div class="form-group">
			<label>
		    	Name:
		    	<div *ngIf="f.name.touched && f.name.dirty && f.name.errors" class="badge badge-danger text-wrap">
		    		<span *ngIf="f.name.errors.required">Required</span>
		    	</div>
		    	<input type="text" class="form-control" maxlength="50" formControlName="name">
		  	</label>
		</div>

		
		<div class="form-group">
			<label>
		    	Email:
		    	<div *ngIf="f.email.touched && f.email.dirty && f.email.errors" class="badge badge-danger text-wrap">
		    		<span *ngIf="f.email.errors.required">Required</span>
		    		<span *ngIf="f.email.errors.email">Invalid Format</span>
		    		<span *ngIf="f.email.errors.emailTaken">Email Taken</span>
		    	</div>
		    	<input type="text" class="form-control" formControlName="email">

		  	</label>
		</div>
			
		<div class="form-group">
			<label>
		    	Password:
		    	<div *ngIf="f.password.touched && f.password.dirty && f.password.errors" class="badge badge-danger text-wrap">
		    		<span *ngIf="f.password.errors.required">Required</span>
		    		<span *ngIf="f.password.errors.minlength">Min 5 chars</span>
		    	</div>

		    	<div *ngIf="f.password.touched && f.password.dirty && f.passwordConf.touched && f.passwordConf.dirty && !f.password.errors && !f.passwordConf.errors && r.hasError('notSame')" class="badge badge-danger text-wrap">
		    		<span *ngIf="r.hasError('notSame')">Not Matching</span>
		    	</div>

		    	<input type="password" class="form-control" formControlName="password">
		  	</label>
		</div>

		<div class="form-group">
			<label>
		    	Confirm Password:
		    	<div *ngIf="f.password.touched && f.password.dirty && f.passwordConf.touched && f.passwordConf.dirty && !f.password.errors && !f.passwordConf.errors && r.hasError('notSame')" class="badge badge-danger text-wrap">
		    		<span *ngIf="r.hasError('notSame')">Not Matching</span>
		    	</div>
		    	<input type="password" class="form-control" formControlName="passwordConf">
		  	</label>
		</div>

		<div class="form-group">
			<button class="btn btn-success btn-block" type="submit" [disabled]="!userRegistrationForm.valid">
				Register
			</button>
		</div>
	</form>
</div>

<div class="row">
	<a routerLink="/login"> Back to Login </a>
</div>